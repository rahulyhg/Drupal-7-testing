
<?php
function testing_menu() {
    $items = array();
    $items['register'] = array(
    'title' => 'Registration',
    'page callback' => 'drupal_get_form',
    'page arguments' => array('testing_form'),
    'access callback' => TRUE,
	'access argument' => 'content access',
    );
	/*************Url new_user_profie register****************/
	$items['user/%/edit'] = array(
	'title' => 'My account',
	'title callback' => 'user_page_title',
	'title arguments' => array(1),
	'page callback' => 'user_view_page',
	'page arguments' => array(1),
	'access callback' => 'user_view_access',
	'access arguments' => array(1),
	'weight' => -10,
	'menu_name' => 'user-menu',
	);

	/*************Url user/%user/profile ****************/
	$items['node/%node/revisions/%/view'] = array(
	'title' => 'Revisions',
	'load arguments' => array(3),
	'page callback' => 'node_show',
	'page arguments' => array(1, TRUE),
	'access callback' => '_node_revision_access',
	'access arguments' => array(1),
	);

	/*************Url profile/%currentuser register****************/
	$items['profile/%currentuser'] = array(
	'title' => 'Profile',
	'description' => 'My Profile',
	'page callback' => 'profile_user_page',
	'page arguments' => array(1),
	'access arguments' => array('view own profile'),
	'type' => MENU_NORMAL_ITEM,
	'menu_name' => 'my_menu',
	);
	/*************Url user/add_user register****************/
	$items['user/add_user'] = array(
	'page callback' => 'add_new_user_form',
	'access arguments' => array('create new users'),
	'type' => MENU_CALLBACK,
	);
	/*************Url register****************/
return $items;
}

/*******************My form***************************/
function testing_form($node, &$form_state) {
  
  	$form['name'] = array(
	'#type' => 'textfield',
	'#title' => 'Name',
	'#required' => TRUE,
	'#size' => 40,
	'#attributes'=> array(
			'placeholder' => t('Enter Your Name'),
			),
        //'#default_value'=>'abc'
	);
	
	$form['repass'] = array(
       '#type' => 'password_confirm', 
        '#size' => 25,
	'#required' => TRUE,
	'#attributes'=> array(
			'placeholder' => t('Enter Password'),
			),
	);
	$form['email'] = array(
	'#type' => 'textfield',
	'#title' => t('E-mail'),
	'#size' => 40,
	'#required' => TRUE,
	'#attributes'=> array(
			'placeholder' => t('Enter E-mail'),
			),
	);
	$form['gender'] = array(
	'#type' => 'select',
	'#title' => t('Gender'),
	'#options' => array(
		0 => t('Male'),
	        1 => t('Female'),
	       ),
	
	);
	$form['Ok'] = array(
	'#type' => 'submit', 
	'#value' => t('Ok'), 
	);
	$form['Clear'] = array(
	'#type' => 'submit', 
	'#value' => t('Clear'), 
	'#submit' => array('db_clear'),
	);
    return $form;
  }
/*********************forms related function*************************/
	function db_clear($form, &$form_state){
		$form_state['values']['name']="";
		$form_state['values']['email']="";
		$form_state['values']['gender']="";
	drupal_set_message(t('forms clear!'));
	}
	function testing_form_validate($form, &$form_state) {
		if($form_state['values']['email']==NULL){}
  	}
	function testing_form_submit($form, &$form_state) {

        $hspass=md5($form_state['values']['repass']);
	db_insert('testing_tb')
	    ->fields(array(
		'password' => $hspass,//$form_state['values']['repass'],       
		'email' => $form_state['values']['email'],
		'name' => $form_state['values']['name'],
		'gender' => $form_state['values']['gender'],
	    ))->execute();
	variable_set('name',$form_state['values']['name']);
	variable_set('email',$form_state['values']['email']);
	variable_set('gender',$form_state['values']['gender']);
	//drupal_set_message(t('Thank you for registration with us!'));//.$form_state['values']));
	$form_state['redirect'] = 'node/327';
	//drupal_set_message("Form values: <pre>".print_r($form_state,true)."</pre>"); 
	}

/**********************another method ************
	function profile_user_page(){
	}
	function currentuser_to_arg($arg) {
	global $user;
	return $user->uid;
	}
	function profile_user_page($user_id) {
	}
	function add_new_user_form() {
	return $form;
	}
/**********************another method ************/
